# Jessy Environment Configuration
# Copy this file to .env and update values as needed

# ============================================
# Rust Service Configuration (jessy-core)
# ============================================

# Logging level: trace, debug, info, warn, error
RUST_LOG=jessy=debug,actix_web=info

# Enable backtrace on panic: 0, 1, full
RUST_BACKTRACE=1

# Environment: development, staging, production
RUST_ENV=development

# Server configuration
RUST_HOST=0.0.0.0
RUST_PORT=8080

# Memory management
MMAP_BASE_PATH=/app/data/mmap
MMAP_INITIAL_SIZE=1048576        # 1MB in bytes
MMAP_MAX_SIZE=10485760           # 10MB in bytes

# Dimensional layer configuration
MAX_DIMENSIONS=1000
DEFAULT_FREQUENCY=1.0
FREQUENCY_TOLERANCE=0.1

# ============================================
# Go API Configuration (jessy-api)
# ============================================

# Environment: development, staging, production
GO_ENV=development

# Server configuration
PORT=3000
HOST=0.0.0.0

# Rust service URL (internal Docker network)
RUST_SERVICE_URL=http://jessy-core:8080

# Logging level: debug, info, warn, error
LOG_LEVEL=debug

# API configuration
API_TIMEOUT=30s
API_MAX_BODY_SIZE=10485760       # 10MB in bytes

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# ============================================
# Database Configuration (if needed)
# ============================================

# PostgreSQL (example - not currently used)
# DB_HOST=postgres
# DB_PORT=5432
# DB_NAME=jessy
# DB_USER=jessy
# DB_PASSWORD=changeme
# DB_SSL_MODE=disable

# Redis (example - not currently used)
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ============================================
# Testing Configuration
# ============================================

# Test execution
RUST_TEST_THREADS=1
CARGO_TERM_COLOR=always

# Test service URLs (for integration tests)
TEST_RUST_SERVICE_URL=http://jessy-core:8080
TEST_API_SERVICE_URL=http://jessy-api:3000

# ============================================
# Docker Configuration
# ============================================

# Platform architecture: linux/amd64, linux/arm64
DOCKER_PLATFORM=linux/arm64

# BuildKit configuration
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# User/Group IDs for volume permissions
UID=1000
GID=1000

# ============================================
# CI/CD Configuration
# ============================================

# Docker Hub credentials (set in CI/CD secrets)
# DOCKER_USERNAME=your-username
# DOCKER_PASSWORD=your-password

# Codecov token (set in CI/CD secrets)
# CODECOV_TOKEN=your-token

# Deployment configuration
# STAGING_HOST=staging.jessy.example.com
# PRODUCTION_HOST=jessy.example.com

# ============================================
# Monitoring & Observability (future)
# ============================================

# Prometheus
# PROMETHEUS_ENABLED=false
# PROMETHEUS_PORT=9090

# Grafana
# GRAFANA_ENABLED=false
# GRAFANA_PORT=3001

# Jaeger (distributed tracing)
# JAEGER_ENABLED=false
# JAEGER_AGENT_HOST=jaeger
# JAEGER_AGENT_PORT=6831

# ============================================
# Security Configuration
# ============================================

# API Keys (generate secure random strings)
# API_KEY=your-secure-api-key-here

# JWT Configuration (if using authentication)
# JWT_SECRET=your-jwt-secret-here
# JWT_EXPIRATION=24h

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ============================================
# Feature Flags
# ============================================

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable debug endpoints
ENABLE_DEBUG_ENDPOINTS=true

# Enable metrics collection
ENABLE_METRICS=false

# Enable distributed tracing
ENABLE_TRACING=false

# ============================================
# Performance Tuning
# ============================================

# Worker threads (0 = auto-detect)
RUST_WORKER_THREADS=0
GO_GOMAXPROCS=0

# Connection pool sizes
MAX_CONNECTIONS=100
MIN_CONNECTIONS=10

# Cache configuration
CACHE_ENABLED=true
CACHE_TTL=3600                   # seconds
CACHE_MAX_SIZE=104857600         # 100MB in bytes

# ============================================
# Development Tools
# ============================================

# Hot reload configuration
HOT_RELOAD_ENABLED=true
HOT_RELOAD_DELAY=1000            # milliseconds

# Profiling
ENABLE_PROFILING=false
PROFILE_PORT=6060

# ============================================
# Notes
# ============================================

# 1. Never commit .env file to git
# 2. Use strong random values for secrets
# 3. Different values for dev/staging/prod
# 4. Document any new variables added
# 5. Keep this file in sync with actual .env
